(this["webpackJsonpreact-app-template"]=this["webpackJsonpreact-app-template"]||[]).push([[5],{120:function(e,t,a){"use strict";a.r(t);var s=a(11),r=a.n(s),c=a(23),n=a(25),i=a(0),l=a.n(i),o=a(4),d=a(1),m=a(43),j=a(21);function b(e){var t=function(){var e=i.useContext(m.a);return Object(j.c)(e),e}(),a=t.formatMessage,s=t.textComponent,r=void 0===s?i.Fragment:s,c=e.id,n=e.description,l=e.defaultMessage,o=e.values,d=e.children,b=e.tagName,u=void 0===b?r:b,p=a({id:c,description:n,defaultMessage:l},o,{ignoreTag:e.ignoreTag});return"function"===typeof d?d(Array.isArray(p)?p:[p]):u?i.createElement(u,null,i.Children.toArray(p)):i.createElement(i.Fragment,null,p)}b.displayName="FormattedMessage";var u=i.memo(b,(function(e,t){var a=e.values,s=Object(d.c)(e,["values"]),r=t.values,c=Object(d.c)(t,["values"]);return Object(j.d)(r,a)&&Object(j.d)(s,c)}));u.displayName="MemoizedFormattedMessage";var p=u,O=a(37),x=a(2),v=function(e){var t=e.onLogin,a=e.loading,s=e.errorMessage,r=l.a.useState({email:"",password:"",rememberMe:!1}),c=Object(n.a)(r,2),i=c[0],d=c[1],m=l.a.useState(),j=Object(n.a)(m,2),b=j[0],u=j[1],v=l.a.useCallback((function(){var e=Object(O.c)(i);u(e),Object(O.a)(e)&&t(i)}),[i,t]);return Object(x.jsxs)("form",{style:{maxWidth:"560px",width:"100%"},noValidate:!0,onSubmit:function(e){e.preventDefault(),v()},className:"row g-3 needs-validation",children:[!!s&&Object(x.jsx)("div",{className:"alert alert-danger",role:"alert",style:{width:"100%"},children:s}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{htmlFor:"inputEmail",className:"form-label",children:Object(x.jsx)(p,{id:"email"})}),Object(x.jsx)("input",{type:"text",className:"form-control",id:"inputEmail",value:i.email,onChange:function(e){return d(Object(o.a)(Object(o.a)({},i),{},{email:e.target.value}))}}),!!(null===b||void 0===b?void 0:b.email)&&Object(x.jsx)("small",{className:"text-danger",children:Object(x.jsx)(p,{id:null===b||void 0===b?void 0:b.email})})]}),Object(x.jsxs)("div",{className:"col-md-12",children:[Object(x.jsx)("label",{htmlFor:"inputPassword",className:"form-label",children:Object(x.jsx)(p,{id:"password"})}),Object(x.jsx)("input",{type:"password",className:"form-control",id:"inputPassword",value:i.password,onChange:function(e){return d(Object(o.a)(Object(o.a)({},i),{},{password:e.target.value}))}}),!!(null===b||void 0===b?void 0:b.password)&&Object(x.jsx)("small",{className:"text-danger",children:Object(x.jsx)(p,{id:null===b||void 0===b?void 0:b.password})})]}),Object(x.jsx)("div",{className:"col-12",children:Object(x.jsxs)("div",{className:"form-check",children:[Object(x.jsx)("input",{className:"form-check-input",type:"checkbox",id:"invalidCheck",value:"",checked:i.rememberMe,onChange:function(e){return d(Object(o.a)(Object(o.a)({},i),{},{rememberMe:!!e.target.checked}))}}),Object(x.jsx)("label",{className:"form-check-label",htmlFor:"invalidCheck",children:Object(x.jsx)(p,{id:"rememberMe"})})]})}),Object(x.jsx)("div",{className:"row justify-content-md-center",style:{margin:"16px 0"},children:Object(x.jsx)("div",{className:"col-md-auto",children:Object(x.jsxs)("button",{className:"btn btn-primary",type:"submit",style:{minWidth:"160px",display:"flex",alignItems:"center",justifyContent:"center"},disabled:a,children:[a&&Object(x.jsx)("div",{className:"spinner-border spinner-border-sm text-light mr-2",role:"status"}),Object(x.jsx)(p,{id:"register"})]})})})]})},h=a.p+"static/media/logo-420-x-108.2f644c81.png",g=a(12),f=a(32),y=a(31),N=a(24),w=a(30),k=a(29),M=a.n(k),C=a(16),F=a(20),S=a(10),E=a(34);t.default=function(){var e=Object(g.d)(),t=Object(i.useState)(!1),a=Object(n.a)(t,2),s=a[0],o=a[1],d=Object(i.useState)(""),m=Object(n.a)(d,2),j=m[0],b=m[1],u=l.a.useCallback(function(){var t=Object(c.a)(r.a.mark((function t(a){var s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(""),o(!0),t.next=4,e(Object(f.a)(y.a.signIn,"post",{email:a.email,password:a.password}));case 4:if(s=t.sent,o(!1),(null===s||void 0===s?void 0:s.code)!==N.a){t.next=11;break}return e(Object(w.b)(s.data)),M.a.set(C.a,s.data.token,{expires:a.rememberMe?7:void 0}),e(Object(S.d)(F.a.home)),t.abrupt("return");case 11:b(Object(E.a)(s));case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e]);return Object(x.jsxs)("div",{className:"container",style:{height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(x.jsx)("img",{src:h,alt:"",style:{maxWidth:"250px",margin:"32px"}}),Object(x.jsx)(v,{onLogin:u,loading:s,errorMessage:j}),Object(x.jsx)("a",{href:"/sign-up",children:"Sign Up"})]})}}}]);